{"remainingRequest":"/Users/arqnet/Desktop/tro-emsig/node_modules/babel-loader/lib/index.js!/Users/arqnet/Desktop/tro-emsig/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/arqnet/Desktop/tro-emsig/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/arqnet/Desktop/tro-emsig/src/views/Basic.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/arqnet/Desktop/tro-emsig/src/views/Basic.vue","mtime":1566455821000},{"path":"/Users/arqnet/Desktop/tro-emsig/node_modules/cache-loader/dist/cjs.js","mtime":1615148347494},{"path":"/Users/arqnet/Desktop/tro-emsig/node_modules/babel-loader/lib/index.js","mtime":1615147414521},{"path":"/Users/arqnet/Desktop/tro-emsig/node_modules/cache-loader/dist/cjs.js","mtime":1615148347494},{"path":"/Users/arqnet/Desktop/tro-emsig/node_modules/vue-loader/lib/index.js","mtime":1615147418198}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0aWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZpbHRlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLmxpbmsiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9hcnFuZXQvRGVza3RvcC90cm8tZW1zaWcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZ3VpZCB9IGZyb20gIi4uL3V0aWwvaGVscGVycyI7CmltcG9ydCBGaWVsZEl0ZW0gZnJvbSAiLi9GaWVsZEl0ZW0iOwppbXBvcnQgVXBsb2FkIGZyb20gJ0AvY29tcG9uZW50cy9VcGxvYWQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0Jhc2ljJywKICBjb21wb25lbnRzOiB7CiAgICBGaWVsZEl0ZW06IEZpZWxkSXRlbSwKICAgIFVwbG9hZDogVXBsb2FkCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmllbGROYW1lOiAnJywKICAgICAgZmlsZWRWYWx1ZTogJycsCiAgICAgIGZpbGVkVHlwZTogJ3RleHQnLAogICAgICBpbWFnZUxpbms6ICcnLAogICAgICBzaG93RGlhbG9nOiBmYWxzZSwKICAgICAgc2hvd0FsZXJ0OiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsnYXR0cmlidXRlcycsICdiYXNpYyddKSksIHt9LCB7CiAgICBpbWFnZVVybDogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5iYXNpYy5pbWFnZS5saW5rOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2KSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VwZGF0ZUltYWdlJywgewogICAgICAgICAgbGluazogdgogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuJGdhLnBhZ2UodGhpcy4kcm91dGVyKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZEZpZWxkOiBmdW5jdGlvbiBhZGRGaWVsZCgpIHsKICAgICAgdmFyIG5ld0ZpbGVkID0gewogICAgICAgIG5hbWU6IHRoaXMuZmllbGROYW1lLAogICAgICAgIHZhbHVlOiB0aGlzLmZpbGVkVmFsdWUsCiAgICAgICAgdHlwZTogdGhpcy5maWxlZFR5cGUsCiAgICAgICAgaWQ6IGd1aWQoKQogICAgICB9OwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYWRkRmllbGQnLCBuZXdGaWxlZCk7CiAgICAgIHRoaXMuZmllbGROYW1lID0gJyc7CiAgICAgIHRoaXMuZmlsZWRWYWx1ZSA9ICcnOwogICAgICB0aGlzLnNob3dEaWFsb2cgPSBmYWxzZTsKICAgIH0sCiAgICBvbkFkZEZpZWxkOiBmdW5jdGlvbiBvbkFkZEZpZWxkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5zaG93RGlhbG9nID0gdHJ1ZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRyZWZzLmZpZWxkTmFtZS5mb2N1cygpOwogICAgICB9KTsKICAgIH0sCiAgICBvbkFkZExpbms6IGZ1bmN0aW9uIG9uQWRkTGluaygpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VwZGF0ZUltYWdlJywgewogICAgICAgIGxpbms6IHRoaXMuaW1hZ2VVcmwKICAgICAgfSk7CiAgICB9LAogICAgb25DbGVhckltYWdlTGluazogZnVuY3Rpb24gb25DbGVhckltYWdlTGluaygpIHsKICAgICAgdGhpcy5pbWFnZUxpbmsgPSAnJzsKICAgICAgdGhpcy5vbkFkZExpbmsoKTsKICAgIH0sCiAgICBvblVwbG9hZDogZnVuY3Rpb24gb25VcGxvYWQodXJsKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd1cGRhdGVJbWFnZScsIHsKICAgICAgICBsaW5rOiB1cmwKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Basic.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA,SAAA,QAAA,QAAA,MAAA;AACA,SAAA,IAAA;AACA,OAAA,SAAA;AACA,OAAA,MAAA,MAAA,qBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAGA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,MAAA,EAAA;AAFA,GAHA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,MAHA;AAIA,MAAA,SAAA,EAAA,EAJA;AAKA,MAAA,UAAA,EAAA,KALA;AAMA,MAAA,SAAA,EAAA;AANA,KAAA;AAQA,GAjBA;AAmBA,EAAA,QAAA,kCACA,QAAA,CAAA,CAAA,YAAA,EAAA,OAAA,CAAA,CADA;AAEA,IAAA,QAAA,EAAA;AACA,MAAA,GADA,iBACA;AACA,eAAA,KAAA,KAAA,CAAA,KAAA,CAAA,IAAA;AACA,OAHA;AAIA,MAAA,GAJA,eAIA,CAJA,EAIA;AACA,aAAA,MAAA,CAAA,QAAA,CAAA,aAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA;AANA;AAFA,IAnBA;AA+BA,EAAA,OA/BA,qBA+BA;AACA,SAAA,GAAA,CAAA,IAAA,CAAA,KAAA,OAAA;AACA,GAjCA;AAmCA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,UAAA,QAAA,GAAA;AACA,QAAA,IAAA,EAAA,KAAA,SADA;AAEA,QAAA,KAAA,EAAA,KAAA,UAFA;AAGA,QAAA,IAAA,EAAA,KAAA,SAHA;AAIA,QAAA,EAAA,EAAA,IAAA;AAJA,OAAA;AAOA,WAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA,QAAA;AACA,WAAA,SAAA,GAAA,EAAA;AACA,WAAA,UAAA,GAAA,EAAA;AACA,WAAA,UAAA,GAAA,KAAA;AACA,KAbA;AAcA,IAAA,UAdA,wBAcA;AAAA;;AACA,WAAA,UAAA,GAAA,IAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,SAAA,CAAA,KAAA;AACA,OAFA;AAGA,KAnBA;AAoBA,IAAA,SApBA,uBAoBA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,aAAA,EAAA;AAAA,QAAA,IAAA,EAAA,KAAA;AAAA,OAAA;AACA,KAtBA;AAuBA,IAAA,gBAvBA,8BAuBA;AACA,WAAA,SAAA,GAAA,EAAA;AACA,WAAA,SAAA;AACA,KA1BA;AA2BA,IAAA,QA3BA,oBA2BA,GA3BA,EA2BA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,aAAA,EAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA;AA7BA;AAnCA,CAAA","sourcesContent":["<template>\n  <div class=\"basic\">\n    <el-form>\n      <el-form-item>\n        <div class=\"image-preview-wrapper\">\n          <div\n            class=\"image-preview\"\n            :style=\"{'background-image': `url(${imageUrl})` }\"\n          />\n          <div class=\"image-preview__actions\">\n            <upload\n              :crop-width=\"200\"\n              :crop-height=\"200\"\n              @upload=\"onUpload\"\n            />\n            <el-row :gutter=\"20\">\n              <el-col :span=\"16\">\n                <el-input\n                  v-model=\"imageUrl\"\n                  placeholder=\"http://\"\n                  clearable\n                  @clear=\"onClearImageLink\"\n                />\n              </el-col>\n              <el-col :span=\"8\">\n                <el-button @click=\"onAddLink\">Add link</el-button>\n              </el-col>\n            </el-row>\n            <div class=\"desc\">\n              <p>You can upload image or add the public link to image.</p>\n            </div>\n          </div>\n        </div>\n      </el-form-item>\n      <el-row :gutter=\"20\">\n        <el-col\n          v-for=\"(item, index) in basic.fields\"\n          :key=\"item.id\"\n          :span=\"12\"\n        >\n          <field-item\n            :is-addon-field=\"index > 5\"\n            :index=\"index\"\n          />\n        </el-col>\n      </el-row>\n      <el-form-item>\n        <el-button\n          type=\"primary\"\n          style=\"width: 100%;\"\n          @click=\"onAddField\"\n        >Add custom field</el-button>\n      </el-form-item>\n    </el-form>\n    <!-- Add new field dialog -->\n    <el-dialog\n      title=\"Add new field\"\n      :visible.sync=\"showDialog\"\n    >\n      <el-alert\n        v-if=\"showAlert\"\n        title=\"Label is exist\"\n        type=\"error\"\n        :closable=\"false\"\n      />\n      <el-form label-position=\"top\">\n        <el-row :gutter=\"20\">\n          <el-col :span=\"8\">\n            <el-form-item label=\"Label\">\n              <el-input\n                ref=\"fieldName\"\n                v-model.trim=\"fieldName\"\n              />\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item label=\"Value\">\n              <el-input v-model.trim=\"filedValue\" />\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item label=\"Type\">\n              <el-select\n                v-model=\"filedType\"\n                style=\"width:100%;\"\n              >\n                <el-option\n                  v-for=\"item in attributes.types\"\n                  :key=\"item.value\"\n                  :value=\"item.value\"\n                  :label=\"item.label\"\n                />\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-form-item style=\"text-align: right;\">\n          <el-button\n            type=\"primary\"\n            @click=\"addField\"\n          >Add field</el-button>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { guid } from '../util/helpers'\nimport FieldItem from './FieldItem'\nimport Upload from '@/components/Upload'\n\nexport default {\n  name: 'Basic',\n\n  components: {\n    FieldItem,\n    Upload\n  },\n\n  data () {\n    return {\n      fieldName: '',\n      filedValue: '',\n      filedType: 'text',\n      imageLink: '',\n      showDialog: false,\n      showAlert: false\n    }\n  },\n\n  computed: {\n    ...mapState(['attributes', 'basic']),\n    imageUrl: {\n      get () {\n        return this.basic.image.link\n      },\n      set (v) {\n        this.$store.dispatch('updateImage', { link: v })\n      }\n    }\n  },\n\n  created () {\n    this.$ga.page(this.$router)\n  },\n\n  methods: {\n    addField () {\n      const newFiled = {\n        name: this.fieldName,\n        value: this.filedValue,\n        type: this.filedType,\n        id: guid()\n      }\n\n      this.$store.dispatch('addField', newFiled)\n      this.fieldName = ''\n      this.filedValue = ''\n      this.showDialog = false\n    },\n    onAddField () {\n      this.showDialog = true\n      this.$nextTick(() => {\n        this.$refs.fieldName.focus()\n      })\n    },\n    onAddLink () {\n      this.$store.dispatch('updateImage', { link: this.imageUrl })\n    },\n    onClearImageLink () {\n      this.imageLink = ''\n      this.onAddLink()\n    },\n    onUpload (url) {\n      this.$store.dispatch('updateImage', { link: url })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '../assets/scss/variables';\n\n.image-preview-wrapper {\n  display: flex;\n  margin-top: 20px;\n  .image-preview {\n    margin-right: 30px;\n    width: 100px;\n    height: 100px;\n    background-color: #eee;\n    border-radius: 100%;\n    background-size: 100px;\n    background-position: center center;\n    background-size: cover;\n    flex-shrink: 0;\n    overflow: hidden;\n    &__actions {\n      width: 100%;\n      .upload {\n        margin-bottom: 20px;\n      }\n    }\n  }\n  .remove-image {\n    padding: 10px;\n    cursor: pointer;\n    &:hover {\n      i {\n        color: #909399;\n      }\n    }\n    i {\n      color: #c0c4cc;\n    }\n  }\n\n  .el-button {\n    height: 40px;\n  }\n  .el-upload {\n    display: inline-block;\n    margin-bottom: 20px;\n  }\n}\n.remove-field {\n  display: inline-block;\n  cursor: pointer;\n}\n.edit {\n  i {\n    color: $color-primary;\n  }\n  &:hover {\n    i {\n      color: darken($color-primary, 20%);\n    }\n  }\n}\n.delete {\n  i {\n    color: red;\n  }\n  &:hover {\n    i {\n      color: darken(red, 20%);\n    }\n  }\n}\n.image-tips {\n  border-bottom: 1px dashed;\n  .el-popover__reference {\n    cursor: pointer;\n  }\n}\n</style>\n"],"sourceRoot":"src/views"}]}